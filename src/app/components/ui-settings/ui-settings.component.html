<div class="navigation">
  <button (click)="navigateToImprint()" type="button">
    {{ getLabel('impressum', language) }}
  </button>
  <button (click)="navigateToCredits()" type="button">{{ getLabel('credits', language) }}</button>
</div>
<div (click)="toggleSettingsVisibility()" id="settings" class="settings-button">
  <div id="settings-menu" class="settings-menu d_none">
    <div class="settings-content">
      <h3>{{ getLabel('settings', language) }}</h3>

      <div class="setting language">
        <label for="languageSelect">{{ getLabel('language', language) }}</label>
        <select id="languageSelect" (click)="stopEvent($event)" (change)="setLanguage($event)">
          <option value="en" [selected]="language == 'en'">English</option>
          <option value="de" [selected]="language == 'de'">Deutsch</option>
          <option value="pt" [selected]="language == 'pt'">Portuguese</option>
        </select>

        <!-- Draws each flag in svg -->
        <svg *ngIf="language === 'de'"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512">
          <path fill="#fc0" d="M0 341.3h512V512H0z" />
          <path fill="#000001" d="M0 0h512v170.7H0z" />
          <path fill="red" d="M0 170.7h512v170.6H0z" />
        </svg>

        <svg *ngIf="language === 'en'"
          xmlns="http://www.w3.org/2000/svg"
          id="flag-icons-us"
          viewBox="0 0 512 512"
        >
          <path fill="#bd3d44" d="M0 0h512v512H0" />
          <path
            stroke="#fff"
            stroke-width="40"
            d="M0 58h512M0 137h512M0 216h512M0 295h512M0 374h512M0 453h512"
          />
          <path fill="#192f5d" d="M0 0h390v275H0z" />
          <marker id="us-a" markerHeight="30" markerWidth="30">
            <path fill="#fff" d="m15 0 9.3 28.6L0 11h30L5.7 28.6" />
          </marker>
          <path
            fill="none"
            marker-mid="url(#us-a)"
            d="m0 0 18 11h65 65 65 65 66L51 39h65 65 65 65L18 66h65 65 65 65 66L51 94h65 65 65 65L18 121h65 65 65 65 66L51 149h65 65 65 65L18 177h65 65 65 65 66L51 205h65 65 65 65L18 232h65 65 65 65 66z"
          />
        </svg>
        
        <!-- Brazil flag -->
        <svg *ngIf="language === 'pt'"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512">
          <rect width="512" height="512" fill="#009739" />
          
          <polygon fill="#FFD700" points="256,40 466,256 256,472 46,256" />
          
          <circle cx="256" cy="256" r="80" fill="#3E4095" />

          <text x="50%" y="50%" fill="#FFFFFF" font-size="20" font-weight="bold" text-anchor="middle" alignment-baseline="middle">Ordem e Progresso</text>
        </svg>

      </div>
      
      <div class="setting">
        <label for="volume"
          >{{ getLabel('volume', language) }}:
          {{ getAudioVolume() | percent }}</label
        >
        <input
          type="range"
          id="volume"
          name="volume"
          min="0"
          max="1"
          step="0.01"
          [value]="getAudioVolume()"
          (click)="setAudioVolume($event, +volume.value)"
          touch-action="none"
          (input)="setAudioVolume($event, +volume.value)"
          #volume
        />
      </div>
      <div class="setting danger-zone">
        <h4 style="color: red">
          {{ getLabel('danger_zone', language) }}
        </h4>
        <h6 style="color: red">
          {{ getLabel('danger_zone_text', language) }}
        </h6>
        <h3>
          {{ getLabel('limit', language) }}
        </h3>
        @if (!isModalOpen) { @for (limit of loadLimits; track $index) {
        <label class="limit" (click)="setPokemonLimit($event, limit)">
          <input
            type="radio"
            [id]="'pokemon-limit-' + $index"
            name="pokemon-limit"
            [value]="limit"
            [checked]="limit.isSelected"
            [disabled]="isLoading"
          />
          Gen {{ limit.gen }} - {{ limit.limit }} @if (limit.isDefault) {
          <span>{{ getLabel('default', language) }}</span>
          }
        </label>
        } }@else {
        <p>{{ confirmationText }}</p>
        <div class="btn-control">
          <button (click)="handleConfirmationClick($event)" class="btn btn-yes">
            {{ getLabel('yes', language) }}
          </button>
          <button (click)="handleConfirmationClick($event)" class="btn btn-no">
            {{ getLabel('no', language) }}
          </button>
        </div>
        }
      </div>
    </div>
  </div>
  <svg
    width="100%"
    height="100%"
    viewBox="0 0 640 512"
    version="1.1"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xml:space="preserve"
    xmlns:serif="http://www.serif.com/"
    style="
      fill-rule: evenodd;
      clip-rule: evenodd;
      stroke-linejoin: round;
      stroke-miterlimit: 2;
    "
  >
    <path
      d="M308.5,135.3L308.3,135.2L286.1,155C287.2,161.8 287.8,168.8 287.8,175.9C287.8,183 287.2,190 286.1,196.8L308.3,216.6C315.4,223 318.2,232.9 314.5,241.6C312.2,246.9 309.7,252.1 306.9,257.1L303.8,262.5C300.8,267.6 297.5,272.4 294,277.1C288.3,284.7 278.3,287.2 269.3,284.2L241.1,274.9C230.4,283.7 218.2,290.8 204.9,295.8L198.8,324.9C196.9,334.1 189.7,341.6 180.3,342.7C173.6,343.5 166.8,343.9 159.9,343.9C153,343.9 146.2,343.5 139.5,342.7C130.1,341.6 122.9,334.2 121,324.9L114.9,295.8C101.7,290.9 89.4,283.7 78.7,274.9L50.5,284.2C41.5,287.2 31.5,284.7 25.8,277.1C22.2,272.4 18.9,267.6 15.9,262.5L12.9,257.3C10.1,252.2 7.6,247 5.3,241.7C1.6,232.9 4.4,223 11.5,216.7L33.7,196.9C32.6,190.1 32,183.1 32,176C32,168.9 32.6,161.9 33.7,155.2L11.5,135.4C4.4,129 1.6,119.1 5.3,110.4C7.6,105 10.1,99.8 12.9,94.8L15.9,89.5C19,84.5 22.3,79.6 25.8,74.9C31.5,67.3 41.5,64.8 50.5,67.8L78.8,77C89.5,68.2 101.7,61.1 115,56.1L121.1,27C123,17.8 130.2,10.3 139.6,9.2C146.2,8.4 152.9,8 159.7,8L160.4,8C167.2,8 173.9,8.4 180.5,9.3C189.9,10.4 197.1,17.8 199,27.1L205.1,56.1C218.3,61 230.6,68.2 241.3,77L269.5,67.7C278.5,64.7 288.5,67.2 294.2,74.8C297.7,79.5 301,84.4 304,89.4L307.1,94.8C309.9,99.8 312.4,105 314.7,110.3C318.4,119.1 315.6,129 308.5,135.3ZM112,176C112,202.332 133.668,224 160,224C186.332,224 208,202.332 208,176C208,149.668 186.332,128 160,128C133.668,128 112,149.668 112,176Z"
      style="fill: rgb(255, 0, 0)"
    />
    <path
      d="M504.7,500.5L504.8,500.3L485,478.1C478.2,479.2 471.2,479.8 464.1,479.8C457,479.8 450,479.2 443.2,478.1L423.4,500.3C417,507.4 407.1,510.2 398.4,506.5C393.1,504.2 387.9,501.7 382.9,498.9L377.5,495.8C372.4,492.8 367.6,489.5 362.9,486C355.3,480.3 352.8,470.3 355.8,461.3L365.1,433.1C356.3,422.4 349.2,410.2 344.2,396.9L315.1,390.8C305.9,388.9 298.4,381.7 297.3,372.3C296.5,365.6 296.1,358.8 296.1,351.9C296.1,345 296.5,338.2 297.3,331.5C298.4,322.1 305.8,314.9 315.1,313L344.2,307C349.1,293.8 356.3,281.5 365.1,270.8L355.8,242.6C352.8,233.6 355.3,223.6 362.9,217.9C367.6,214.3 372.4,211 377.5,208L382.7,205C387.8,202.2 393,199.7 398.3,197.4C407.1,193.7 417,196.5 423.3,203.6L443.1,225.8C449.9,224.7 456.9,224.1 464,224.1C471.1,224.1 478.1,224.7 484.9,225.8L504.7,203.6C511.1,196.5 521,193.7 529.7,197.4C535.1,199.7 540.3,202.2 545.3,205L550.6,208C555.6,211.1 560.5,214.4 565.2,217.9C572.8,223.6 575.3,233.6 572.3,242.6L563,270.8C571.8,281.5 578.9,293.7 583.9,307L613,313.2C622.2,315.1 629.7,322.3 630.8,331.7C631.6,338.4 632,345.2 632,352.1C632,359 631.6,365.8 630.8,372.5C629.7,381.9 622.3,389.1 613,391L583.9,397.1C579,410.3 571.8,422.6 563,433.3L572.3,461.5C575.3,470.5 572.8,480.5 565.2,486.2C560.5,489.7 555.6,493 550.6,496L545.2,499.1C540.2,501.9 535,504.4 529.7,506.7C520.9,510.4 511,507.6 504.7,500.5ZM464,304C437.668,304 416,325.668 416,352C416,378.332 437.668,400 464,400C490.332,400 512,378.332 512,352C512,325.668 490.332,304 464,304Z"
    />
  </svg>
</div>
